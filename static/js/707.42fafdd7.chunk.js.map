{"version":3,"file":"static/js/707.42fafdd7.chunk.js","mappings":"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","sources":["pages/Cart.js"],"sourcesContent":["import styled from 'styled-components';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { decrease, increase, dropItem, checkItem, checkAllItem } from './../store/cartSlice';\r\n\r\nconst Container = styled.div`\r\n  width: 1200px;\r\n  height: 100%;\r\n  margin: 0px auto;\r\n  padding: 80px 0px 200px;\r\n  font-family: sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst CartBtn = styled.button`\r\n  color : ${props => props.color};\r\n  background : ${props => props.color === '#CCC' ? '#EEE' : '#2AC1BC'};\r\n  border-color : ${props => props.color === '#CCC' ? '#EEE' : '#2AC1BC'};\r\n`\r\n\r\nfunction Cart(){\r\n\r\n  return (\r\n    <Container className='cart-container'>\r\n      <header>\r\n        <div className='cart-title'>\r\n          <h4 className='active'>장바구니</h4>\r\n        </div>\r\n      </header>\r\n        <section className='cart-box'>\r\n          {/* 선택한 상품 */}\r\n          <article className=\"cart-content\">\r\n            <CartItem />\r\n          </article>\r\n          {/* 총 상품 금액 */}\r\n          <Payment />\r\n        </section>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction CartItem(){\r\n  let state = useSelector((state) => state.cartItem);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [checkAll, setCheckAll] = useState('')\r\n  let checkArr = [];\r\n\r\n  useEffect(() => {\r\n    let checkTimer = setTimeout(() => { \r\n    let checkLength = checkArr.length;\r\n    let cartLength = state.length;\r\n\r\n      { checkLength === cartLength \r\n        ? setCheckAll('checked') \r\n        : setCheckAll('')\r\n      } \r\n\r\n    }, 100);\r\n    \r\n    return () => {\r\n      clearTimeout(checkTimer)\r\n    }\r\n  })\r\n  return (\r\n    <>\r\n      {state.length > 0 \r\n      ? <div>\r\n          <div className='cart-header'>\r\n            <div className='check-box'>\r\n              <input type='checkbox' id='@checkAll' onClick={() => {dispatch(checkAllItem(checkArr.length))}} checked={checkAll} readOnly />\r\n              <label htmlFor='@checkAll'>전체선택</label>\r\n            </div>\r\n            <button className='select-del-btn'>선택삭제</button>\r\n          </div>\r\n          { state && state.map((a, i) => {\r\n              const cartItemId = state[i].id\r\n              const checkId = '@check' + i\r\n              return (\r\n                <div key={i}>\r\n                  <ul className='cart-list'>\r\n                    <li>\r\n                      <div className='check-box'>\r\n                        <input type='checkbox' id={checkId} onClick={() => {dispatch(checkItem(cartItemId))}} \r\n                          checked={state[i].checked ? true && checkArr.push(cartItemId) : false && checkArr.drop(cartItemId)} readOnly\r\n                        />\r\n                        <label htmlFor={checkId} />\r\n                      </div>\r\n                      <div className=\"list-box\">\r\n                        <div className=\"thumbnail\">\r\n                          <button onClick={() => {navigate('/goods/detail/' + state[i].id)}} >\r\n                            <img src={state[i].thumbnail1} alt=\"\" />\r\n                          </button>\r\n                        </div>\r\n                        <div className='list-info'>\r\n                          <p className=\"list-name\">\r\n                          <button onClick={() => {navigate('/goods/detail/' + state[i].id)}} >\r\n                            {state[i].title}\r\n                          </button>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"cart-info\">\r\n                        <div className=\"quantity\">\r\n                          <input type=\"text\" value={state[i].count} readOnly />\r\n                          <button className='btn-minus' onClick={() => {dispatch(decrease(cartItemId))}}>-</button>\r\n                          <button className='btn-plus' onClick={() => {dispatch(increase(cartItemId))}}>+</button>\r\n                        </div>\r\n                        <div className='price-info'>\r\n                          <div className=\"price\">\r\n                            <span>{(state[i].price * state[i].count).toLocaleString()}원</span>\r\n                          </div>\r\n                          <button className='cart-del-btn' onClick={() => dispatch(dropItem())}>삭제</button>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      : <>\r\n          <ul>\r\n            <li className='cart-item-none'>\r\n              <h2 className='font'>앗!</h2>\r\n              <span className='text'>장바구니가 텅~</span>\r\n            </li>\r\n          </ul>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nfunction Payment(){\r\n  const state = useSelector((state) => state.cartItem)\r\n  const shipping = 3000;\r\n  const SHIPPING = shipping.toLocaleString()\r\n  let [sumPrice, setSumPrice] = useState(0);\r\n  let priceArr = [];\r\n\r\n  if (state.length > 0) {\r\n    state && state.map((a, i) => {\r\n      let amountPrice;\r\n      if (state[i].checked) {\r\n        amountPrice = (state[i].price * state[i].count)\r\n      } else {\r\n        amountPrice = 0\r\n      }\r\n      return priceArr.push(amountPrice)\r\n    })\r\n  } else {\r\n    sumPrice = 0\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n\r\n      if (priceArr.length > 0 ){\r\n        let a = priceArr.reduce((sum, itemPrice) => sum + itemPrice)\r\n        setSumPrice(a)\r\n      }\r\n    }, 100);\r\n  })\r\n  \r\n  return (\r\n    <article className='payment-box'>\r\n      <div className='box-sticky'>\r\n        <div className=\"payment-result\">\r\n          <dl className='amount'>\r\n            <dt className='amount-item'>총 상품금액</dt>\r\n            <dd className='amount-price'>{sumPrice.toLocaleString()}원</dd>\r\n            <dt>배송비</dt>\r\n            <dd>+{sumPrice === 0 ? 0 : sumPrice >= 30000 ? 0 : SHIPPING}원</dd>\r\n          </dl>\r\n          <dl className='total'>\r\n            <dt>결제예상금액</dt>\r\n            <dd>{sumPrice === 0 ? 0 : sumPrice >= 30000 ? sumPrice.toLocaleString() : (sumPrice+shipping).toLocaleString()}원</dd>\r\n          </dl>\r\n        </div>\r\n        <div className=\"order-box\">\r\n          <CartBtn className='order-btn' color={sumPrice !== 0 ? 'white' : '#CCC'}>\r\n            <strong></strong>\r\n            주문하기\r\n          </CartBtn>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\nexport default Cart"],"names":["Container","styled","CartBtn","props","color","CartItem","state","useSelector","cartItem","dispatch","useDispatch","navigate","useNavigate","useState","checkAll","setCheckAll","checkArr","useEffect","checkTimer","setTimeout","checkLength","length","cartLength","clearTimeout","className","type","id","onClick","checkAllItem","checked","readOnly","htmlFor","map","a","i","cartItemId","checkId","checkItem","push","src","thumbnail1","alt","title","value","count","decrease","increase","price","toLocaleString","dropItem","Payment","SHIPPING","sumPrice","setSumPrice","priceArr","amountPrice","reduce","sum","itemPrice"],"sourceRoot":""}